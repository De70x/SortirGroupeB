{% extends 'base.html.twig' %}

{% block title %}Liste des sorties{% endblock %}

{% block main %}

    <form id="rechercheSortie">
        <div class="form-group">
            <label>Site :
                <select name="sites" size="5" class="form-control">
                    {%  for site in sites %}
                        <option value="{{ site.id }}">site.nom</option>
                    {% endfor %}
                </select>
            </label>
        </div>
        <button type="submit">Rechercher</button>
    </form>

    <table class="table table-striped table-light">
        <thead>
        <tr>
            <th scope="col">Nom de la sortie</th>
            <th scope="col">Date de la sortie</th>
            <th scope="col">Cl√¥ture</th>
            <th scope="col">Inscrits / Places</th>
            <th scope="col">Etat</th>
            <th scope="col">Inscrit ?</th>
            <th scope="col">Organisateur</th>
            <th scope="col">Actions</th>
        </tr>
        </thead>
        <tbody>
    {% for sortie in sorties %}
        <tr>
            <th scope="row">{{ sortie.nom }}</th>
            <td>{{ sortie.dateHeureDebut|date("d/m/Y") }}</td>
            <td>{{ sortie.dateLimiteInscription|date("d/m/Y") }}</td>
            <td>{{ nbInscritsParSortie[sortie.id] }} / {{ sortie.nbInscriptionsMax }}</td>
            <td>{{ sortie.etat }}</td>
            <td>
            {% if sortie in sortiesUtilisateur %}
            X
            {% endif %}
            </td>
            <td>{{ sortie.organisateur.nom }}</td>
            <td>Actions</td>
        </tr>
    {% endfor %}
        </tbody>
    </table>

{% endblock %}
